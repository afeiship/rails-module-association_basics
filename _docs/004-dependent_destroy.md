# Rails中destroy_all和delete_all的差别
~~~
这样更明显的看出区别了吧，达到的效果一样但是中间过程是不一样的，Rails为什么设计两个方法呢？
什么情况下该用delete_all，而什么情况下该用destroy_all呢？
这样设计很明显是有用途的，delete_all是一条sql语句删除，如果删除的数据量太多的话，锁表的时间就会很长，会影响对表的使用，
如果删除出现问题，回滚起来代价也比较大，但是少了很多网络IO，网络开销就比较小。后者是先查出所有的数据之后再一条一条的按照主键删除，几乎不会锁表，但是网络开销就比较大，同样的数据量的话，delete_all删除的速度更快些。

根据自己的数据量以及使用的场景选择合适的方法就好，一般情况下问题都不大。
~~~

## resources:
+ https://blog.csdn.net/feigeswjtu/article/details/51581020